<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>

        // async function async1() {
        //     console.log('async1 start');
        //     await async2();
        //     console.log('async1 end');
        // }
        // async function async2() {
        //     new Promise(function (resolve) {
        //         console.log('promise1');
        //         resolve();
        //     }).then(function () {
        //         console.log('promise2');
        //     });
        // }
        // console.log('script start');
        // setTimeout(function () {
        //     console.log('setTimeout');
        //     console.log("script start  async1 start promise1  promise3 script end   promise2 async1 end promise4 setTimeout") 
        // }, 0)
        // async1();
        // new Promise(function (resolve) {
        //     console.log('promise3');
        //     resolve();
        // }).then(function () {
        //     console.log('promise4');
        // });
        // console.log('script end');




// async function async1() {
//     console.log('async1 start');
//     await async2();
//     setTimeout(function() {
//         console.log('setTimeout1')  
//     },0)
// }
// async function async2() {
//     setTimeout(function() {
//         console.log('setTimeout2')
//     },0)
// }
// console.log('script start');
// setTimeout(function() {
//     console.log('setTimeout3');
// }, 0)
// async1();
// new Promise(function(resolve) {
//     console.log('promise1');
//     resolve();
// }).then(function() {
//     console.log('promise2');
// });
// console.log('script end');


// console.log('script start async1 start promise1 script end  promise2 setTimeout3 setTimeout2 setTimeout1');



//-------------------------------答案-----------------------------
// script start,
// async1 start,
// promise1, 
// script end,
// promise2, 
// setTimeout3, 
// setTimeout2,
// setTimeout1
console.log('1');
async function async1() {
    console.log('2');
    await async2();
    console.log('3');
}
async function async2() {
    console.log('4');
}
process.nextTick(function() {
    console.log('5');
})
setTimeout(function() {
    console.log('6');
    process.nextTick(function() {
        console.log('7');
    })
    new Promise(function(resolve) {
        console.log('8');
        resolve();
    }).then(function() {
        console.log('9')
    })
})
async1();
new Promise(function(resolve) {
    console.log('10');
    resolve();
}).then(function() {
    console.log('11');
});
console.log('12');
//-------------------------------答案-----------------------------
// 1
// 2
// 4
// 10
// 12
// 5
// 3
// 11
// 6
// 8
// 7
// 9





//-------------------------------答案-----------------------------
//script start, 
// async1 start, 
// promise1, 
// promise3, 
// script end, 
// promise2，
// async1 end，
// promise4, 
// setTimeout

    </script>
</body>

</html>